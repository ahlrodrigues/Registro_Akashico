<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Relatório de Cadastros</title>
  <link rel="stylesheet" href="../styles/style.css">
  <script type="module" src="../scripts/relatorio.js" defer></script>
  <script type="module" src="../scripts/modalCadastro.js" defer></script>
</head>
<body>

  <!-- Cabeçalho carregado dinamicamente -->
  <div id="cabecalho"></div>

  <main>
    <input type="text" id="busca" placeholder="Buscar por nome..." />
    <div class="botoes-centrais">
      <button id="btnVer">Ver</button>
      <button id="btnEditar">Editar</button>
      <button id="btnExcluirSelecionado">Excluir</button>
    </div>

    <table id="tabelaUsuarios">
      <thead>
        <tr>
          <th><input type="checkbox" id="selecionarTodos"></th>
          <th>ID</th>
          <th>Nome</th>
          <th>Apelido</th>
          <th>Telefone</th>
          <th>Email</th>
          <th>Tipo</th>
          <th>Status</th>
        </tr>
      </thead>
      
      <tbody>
        <!-- Preenchido via JS -->
      </tbody>
    </table>
  </main>

  <!-- Modal do Cadastro -->
  <div id="modalCadastroUsuario" class="modal hidden">
    <div class="modal-content">
      <span class="modal-close">&times;</span>
      <h2>Cadastro de Usuário</h2>

      <form id="formEditarUsuario">
        <label for="nome">Nome:</label>
        <input type="text" id="nome" name="nome" required>

        <label for="apelido">Apelido:</label>
        <input type="text" id="apelido" name="apelido">

        <label for="grau">Tipo:</label>
        <select id="grau" name="grau">
          <option value="assistido">Assistido</option>
          <option value="servidor">Servidor</option>
          <option value="discípulo">Discípulo</option>
        </select>

        <label for="telefone">Telefone:</label>
        <input type="tel" id="telefone" name="telefone">

        <label for="email">Email:</label>
        <input type="email" id="email" name="email">

        <label for="status">Status:</label>
        <select id="status" name="status" required>
          <option value="ativo" selected>Ativo</option>
          <option value="desativado">Desativado</option>
        </select>

        <!-- Espaço para relatórios futuros -->
        <section id="relatoriosExtras" class="hidden">
          <h3>Presenças (últimos 6 meses)</h3>
          <div id="relatorioPresencas"></div>

          <h3>Histórico de Passes</h3>
          <div id="relatorioPasses"></div>
        </section>

        <div class="modal-footer">
          <button type="submit" id="btnSalvar">Salvar</button>
          <button type="button" id="btnExcluir" class="danger hidden">Excluir</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Carrega o cabeçalho (modular) após o DOM -->
  <script type="module" src="../scripts/incluirComponentes.js"></script>
</body>
</html>
